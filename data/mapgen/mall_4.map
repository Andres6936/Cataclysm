### mall_4.map
#
# The following tags are used: (# marks a line or part of a line as a comment)
#
# "name:" - Required.  A description of this spec.  It should appear first for
#           debugging reasons.
# "type:" - Required.  The World_terrain name this spec applies to.  See
#           world_terrain.dat for a list of World_terrains.
# "adjacent" - If this tag is present, then this map is an "adjacency" map.
#              This should appear before "base_terrain:" or "tile:" lines.
# "base_terrain:" - Recommended.  A terrain specification to be used for tiles
#                   which are not defined in the map section.
# "weight:" - A weight used when randomly choosing specs.  If omitted, the
#             weight defaults to 100.  A spec with weight 200 is twice as likely#             to be used as one with weight 100.
# "tile:" - Defines a terrain used in the map section.
# "items:" - Defines an item drop used in the map section.
# "map:" - Defines the start of the map section.
# "endmap" - Defines the end of the map section.
# "done" - Required.  Marks the end of this spec.
#
# See the bottom of this file for details on base_terrain and tile terrain
# specifications, item drop specifications, and adjacency maps.

name: n4_corridor_mall_whales
subname: mall_4
type: mall
neighbors: 4
# Other mall pieces have weight: 50 for the corridor - because they are much
# better used to hold shops.  4-neighbor pieces, however, aren't great at
# holding shops, so they make better corridors!  Leave weight at 100, since we
# have multiple corridor specs.

tile: # = stone wall
tile: % = short stone wall
tile: . = floor
tile: ~ = shallow water
tile: F = fountain
tile: T = w:2 small tree / w:1 dirt

tile: Bt = floor
furniture: B = bench
furniture: t = trash can
item_group: 65 t = items_trash

subst: S = w:7 S / w:1 .
subst: D = w:7 D / w:1 .
tile: SD = snack machine
item_group: 70 S = items_snacks
item_group: 70 D = items_fridge_snacks

map:
#.......................#
.........................
.........................
.........................
....%%%....BBB....%%%....
....%tS...........%T%....
....%D....%%%%%...%%%....
........%%%~~~%%%........
.......%%~~~~~~~%%.......
.......%~~~~~~~~~%.......
......%%~~~~~~~~~%%......
....B.%~~~~~~~~~~~%.B....
....B.%~~~~~F~~~~~%.B....
....B.%~~~~~~~~~~~%.B....
......%%~~~~~~~~~%%......
.......%~~~~~~~~~%.......
.......%%~~~~~~~%%.......
........%%%~~~%%%........
....%%%...%%%%%....D%....
....%T%...........St%....
....%%%....BBB....%%%....
.........................
.........................
.........................
#.......................#
endmap
done

name: n4_corridor2_mall_whales
subname: mall_4
type: mall
neighbors: 4

tile: # = stone wall
tile: % = short stone wall
tile: . = floor
tile: ~ = shallow water
tile: F = fountain
tile: T = w:2 small tree / w:1 dirt
tile: * = dirt
tile: & = mall map

tile: Bt = floor
furniture: B = bench
furniture: t = trash can
item_group: 80 t = items_trash

shuffle: Ss
shuffle: Dd
tile: sd = floor

subst: S = w:7 S / w:1 .
subst: D = w:7 D / w:1 .
tile: SD = snack machine
item_group: 70 S = items_snacks
item_group: 70 D = items_fridge_snacks

tile: p = floor
num_items: p = c: 1d2 - 1; dead plant

map:
#.......................#
.........................
...........%%%...........
...........%T%...........
.....p....B%*%B....p.....
.....t....B%T%B....t.....
.....p....B%*%B....p.....
...........%T%...........
...........%%%...........
..........S...D..........
.........................
............&............
...........&&&...........
.....BBBt.&&&&&.tBBB.....
.........................
..........s...d..........
...........%%%...........
...........%T%...........
.....p....B%*%B....p.....
.....t....B%T%B....t.....
.....p....B%*%B....p.....
...........%T%...........
...........%%%...........
.........................
#.......................#
endmap
done

name: n4_corridor3_mall_whales
subname: mall_4
type: mall
neighbors: 4

tile: # = stone wall
tile: % = short stone wall
tile: . = floor
tile: * = w:15 dirt / w:6 underbrush / w:3 hedge / w:1 small tree

subst: ~ = w:3 ~ / w:1 T
tile: ~ = shallow water
tile: T = w:1 small tree / w:15 dirt

tile: Bt = floor
furniture: B = bench
furniture: t = trash can
item_group: 70 t = items_trash

subst: S = w:2 S / w:1 .
subst: D = w:2 D / w:1 .
tile: SD = snack machine
item_group: 70 S = items_snacks
item_group: 70 D = items_fridge_snacks

map:
#.......................#
.........................
.........................
.......%%%%...%%%%.......
.....%%%**%...%**%%%.....
....%%****%...%****%%....
...%%***%%%...%%%***%%...
..%%**%%%.......%%%**%%..
..%**%%....BBB....%%**%..
..%**%...t%%%%%t...%**%..
..%%%%S..%%~~~%%..D%%%%..
........B%~~~~~%B........
........B%~~~~~%B........
........B%~~~~~%B........
..%%%%D..%%~~~%%..S%%%%..
..%**%...t%%%%%t...%**%..
..%**%%....BBB....%%**%..
..%%**%%%.......%%%**%%..
...%%***%%%...%%%***%%...
....%%****%...%****%%....
.....%%%**%...%**%%%.....
.......%%%%...%%%%.......
.........................
.........................
#.......................#
endmap
done

name: n4_corridor4_mall_whales
subname: mall_4
type: mall
neighbors: 4

tile: # = stone wall
tile: . = floor
tile: % = short stone wall
tile: ^ = w:9 hedge / w:1 dirt
tile: * = dirt
tile: T = w:11 tree / w:1 dirt

subst: b = w:2 B / w:1 .

tile: Btp = floor
furniture: B = bench
furniture: t = trash can
item_group: 68 t = items_trash
num_items: p = c: 1d2 - 1; dead plant

subst: S = w:4 S / w:1 .
subst: D = w:4 D / w:1 .
tile: SD = snack machine
item_group: 70 S = items_snacks
item_group: 70 D = items_fridge_snacks

map:
#.......................#
.........................
.........................
....bbb...........bbb....
....%%%...........%%%....
....%tS...........Dt%....
.........................
.........................
.........p.BBB.p.........
........p%%%%%%%p........
.........%^^^^^%.........
........B%^***^%B........
........B%^*T*^%B........
........B%^***^%B........
.........%^^^^^%.........
........p%%%%%%%p........
.........p.BBB.p.........
.........................
.........................
....%tD...........St%....
....%%%...........%%%....
....bbb...........bbb....
.........................
.........................
#.......................#
endmap
done

name: n4_stands_mall_whales
subname: mall_4
type: mall
neighbors: 4

tile: # = stone wall
tile: . = floor
tile: , = floor_lock
tile: % = counter
tile: + = w:4 locked door / w:3 closed door / w:1 open door

tile: F = fridge
item_group: 75 F = items_fast_food

subst: ABC = w:9 a / w:12 b / w:5 c / w:8 d / w:10 e / w:16 f / w:9 g / w:12 h / w:11 i / w:15 j
tile: abcdefghij = display rack
item_group: 70 a = items_shoes
item_group: 60 b = items_snacks
item_group: 60 c = items_small_tools
item_group: 75 d = items_cleaning
item_group: 75 e = items_misc_goods
item_group: 80 f = items_behind_counter
item_group: 60 g = items_soft_drugs
item_group: 60 h = items_jewelry
item_group: 70 i = items_hats
item_group: 75 j = items_magazines

map:
#.......................#
.........................
.........................
.........................
.........................
.....#####.....%%%%%.....
.....#F#,%.....%.B.%.....
.....#.+,%.....%.B.%.....
.....#.#,%.....%.B.%.....
.....#####.....%%%%%.....
.........................
.........................
.........................
.........................
.........................
.....%%%%%.....%%%%%.....
.....%.A.%.....%.C.%.....
.....%.A.%.....%.C.%.....
.....%.A.%.....%.C.%.....
.....%%%%%.....%%%%%.....
.........................
.........................
.........................
.........................
#.......................#
endmap
done

name: n4_food_court_mall_whales
subname: mall_4
type: mall
neighbors: 4

tile: # = stone wall
tile: . = floor
tile: , = floor_lock
tile: % = counter
tile: K = sink
tile: S = stove
tile: & = affixed table

tile: $ = shelves
item_group: 80 $ = items_food_shelves

tile: F = fridge
item_group: 85 F = items_fast_food

tile: ^ = counter
item_group: 70 ^ = items_kitchen_counter

tile: Cc = floor
furniture: Cc = plastic chair

shuffle: 123
shuffle: 456
shuffle: 789
shuffle: def
shuffle: ghi
shuffle: jkl
tile: 147dgj = w:5 locked door / w:1 closed door
tile: 235689efhikl = stone wall

map:
#.......................#
.........................
...........c&c...........
.......###########.......
..c&c..%,#^$#F^#,%..c&c..
..C&C..%,1.F#$.d,%..C&C..
..c&c..%,2.S#^.e,%..c&c..
.......%,3.^#S.f,%.......
..c&c..%,#^K#^K#,%..c&c..
..C&C..###########..C&C..
..c&c..%,#K^#K^#,%..c&c..
.......%,4.^#F.g,%.......
..c&c..%,5.S#^.h,%..c&c..
.......%,6.^#S.i,%.......
..c&c..%,#$F#^$#,%..c&c..
..C&C..###########..C&C..
..c&c..%,#$^#^^#,%..c&c..
.......%,7.K#^.j,%.......
..c&c..%,8.^#S.k,%..c&c..
..C&C..%,9.S#F.l,%..C&C..
..c&c..%,#F^#$K#,%..c&c..
.......###########.......
...........c&c...........
.........................
#.......................#
endmap
done

name: n4_bathrooms_mall_whales
subname: mall_4
type: mall
neighbors: 4

tile: # = stone wall
tile: . = floor
tile: , = floor_lock
tile: T = toilet
tile: K = sink
tile: ' = w:7 open door / w:1 closed door
tile: + = w:7 closed door / w:1 open door

tile: Ct = shelves
item_group: 75 C = items_cleaning
item_group: 65 t = items_small_tools

shuffle: 123
tile: 1 = w:3 locked door / w:1 closed door
tile: 23 = stone wall

tile: Bpr = floor
furniture: B = bench
furniture: r = trash can
item_group: 65 r = items_trash
num_items: p = c: 1d2 - 1; dead plant

map:
#.......................#
.........................
.........................
.........................
..........r.p.r..........
......##+#######+##......
......#...'T#T'...#......
......#K..#####..K#......
......#K..'T#T'..K#......
.....p#K..#####..K#p.....
......#K..'T#T'..K#......
.....B#K..#####..K#B.....
.....B#K..'T#T'..K#B.....
.....B#K..#####..K#B.....
......#...'T#T'...#......
.....p#############p.....
......#CCCCC.ttttt#......
......#C.........t#......
......#...........#......
......###1##2##3###......
........,,,,,,,,,........
.........................
.........................
.........................
#.......................#
endmap
done

name: n4_mall_roof_whales
subname: mall_4
type: mall
level: 1

tile: . = roof
tile_group: * = w:9 glass roof / w:1 roof

map:
........*********........
........*********........
........*********........
........*********........
........*********........
........*********........
........*********........
........*********........
*************************
*************************
*************************
*************************
*************************
*************************
*************************
*************************
*************************
........*********........
........*********........
........*********........
........*********........
........*********........
........*********........
........*********........
........*********........
endmap
done

# A recommended format for spec names is <DESC>_<TYPE>_<NAME>
#  <DESC> is a short description of the unusual feature of this spec.  If it is
#         not unusual, use "std".
#  <TYPE> is the World_terrain used here.
#  <NAME> is your name, initials, or handle.
# This format makes it easy to identify the spec when debugging.
#
# The "tile:" line uses the following format:
#       tile: abc = w:20 dirt / w:15 grass / tree
# "abc" is a list of characters which, when found in the map section, will use
# this terrain.  You can include spaces and they will be ignored.
# " = " delineates between the list of characters and the terrain spec.  It must
# be surrounded by spaces.
# The rest of the line is a list of terrain names (from terrain.dat).  A terrain
# is randomly picked from this list.  You must place " / " between terrain
# names.  You can also include "w:20" with the terrain name to define its
# weight for random selection.  If omitted, the weight defaults to 10.  A
# terrain with weight 20 is twice as likely to be chosen as a terrain with
# weight 10.
#
# The "base_terrain:" line uses the same terrain spec format, but of course the
# list of characters and the " = " are not used.
#
# The "items:" line uses the following format:
#       50 abc = rock / w:20 stick
# The number at the front MUST be present.  It's the percentage chance of
# placing a single item.  If one item is used, the same chance is used to decide
# whether to place a second item, and so on until the chance fails.  It must be
# between 1 and 99.  If it's not, you will be warned and the chance will be
# corrected.
# The rest of the line is very similar to the terrain specifications, but with
# item names (from items.dat) instead of terrain names.
#
# The "map:" tag should appear on its own line.  It is followed by 25 lines of
# 25 characters each - you will be warned if there are missing characters or
# extra characters.  It is a list of characters which refer back to the "tile:"
# or "items:" lines.  If no matching "tile:" is found, the base_terrain is used;
# if the base_terrain is not present, the first terrain in terrain.dat is used.
#
# "Adjacency" specs are identified by placing the "adjacent" tag in the spec.
# These specs are used when generating a map ADJACENT to the specified type.
# Adjacency specs should be designed as if the adjacent terrain were to the
# north; the spec will be rotated as needed.
# The base terrain is generated, and then the adjacency map is generated on top.
# Adjacency specs are the same as normal maps, but with the difference that
# it is allowed to use "nothing" as a terrain name.  If "nothing" is selected,
# then the terrain in the map will be unchanged.  Also, ONLY floor terrain will
# be changed; non-floor terrain will be unchanged.
