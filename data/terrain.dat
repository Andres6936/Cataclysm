name: dirt
  glyph: . brown black
  movecost: 100
  flags: floor
  signal: dig
    result: hole
  done
done

name: grass
  glyph: . green black
  movecost: 100
  flags: floor
  signal: dig
    result: hole
  done
done

# TODO: redo hole as a trapish thing
name: hole
  glyph: 0 brown black
  movecost: 300
done

name: empty
  glyph: x blue ltgray
  movecost: 100
  flags: open_space
done

name: tree
  glyph: 7 green black
  movecost:   0
  hp: 500
  destroy: underbrush
  flags: opaque flammable
done

name: underbrush
  glyph: % ltgreen black
  movecost: 200
  hp: 10
  destroy: grass
  smash:
    failure_sound: "crunch."
    success_sound: "crunch."
    armor: bash 1d20 + 20
    ignore_chance: 25
  done
  flags: flammable
done

name: small tree
  glyph: 1 green black
  movecost:   0
  hp: 40
  destroy: underbrush
  smash:
    failure_sound: "thump."
    success_sound: "crunch!"
    armor: bash 1d10 + 5
  done
  flags: flammable
done

name: sand
  glyph: . yellow black
  movecost: 100
  flags: floor
  signal: dig
    result: hole
  done
done

# Identical to sand, but when dug in, produces shallow salt water!
name: beach sand
  display_name: sand
  glyph: . yellow black
  movecost: 100
  flags: floor
  signal: dig
    result: shallow salt water
  done
done

name: mud
  glyph: ~ brown black
  movecost: 300
  flags: water
  signal: dig
    result: shallow water
  done
done

name: shallow water
  glyph: ~ ltblue black
  movecost: 200
  flags: water
done

name: deep water
  glyph: ~ blue black
  movecost: 0
  flags: water
done

name: shallow salt water
  glyph: ~ ltcyan black
  movecost: 200
  flags: water
done

name: deep salt water
  glyph: ~ cyan black
  movecost: 0
  flags: water
done

name: fungal tree
  glyph: 7 dkgray black
  movecost: 0
  hp: 300
  destroy: dirt
  flags: opaque
done

name: fungal undergrowth
  glyph: % dkgray black
  movecost: 150
  destroy: dirt
  hp: 50
done

name: rubble
  glyph: % ltgray black
  movecost: 120
done

name: boulder
  glyph: # ltgray black
  movecost: 0
  hp: 600
  destroy: rubble
  flags: opaque
done

name: short stone wall
  glyph: % ltgray black
  movecost: 180
  hp: 400
  destroy: rubble
  flags: opaque
  height: 25
done

name: stone wall
  glyph: # ltgray black
  movecost: 0
  hp: 800
  destroy: rubble
  flags: opaque
done

name: wood wall
  glyph: # brown black
  movecost: 0
  hp: 400
  destroy: rubble
  flags: opaque flammable
done

name: stockade fence
  glyph: { yellow black
  movecost: 0
  height: 80
  hp: 12
  destroy: dirt
  smash:
    failure_sound: "Thump!"
    success_sound: "Crunch!"
    armor: bash 1d10
  done
  flags: opaque flammable
done

name: floor
  glyph: . cyan black
  movecost: 100
  height: 1
  flags: opaque
done

name: roof
  glyph: . brown black
  movecost: 120
  height: 1
  flags: opaque
done

name: glass wall
  glyph: # ltcyan black
  movecost: 0
  hp: 1
  destroy: floor
  smash:
    failure_sound: "whunk."
    success_sound: glass shattering.
    armor: cut 1d8
    armor: pierce 2
  done
done

name: concrete floor
  glyph: . ltgray black
  movecost: 100
done

name: pavement
  glyph: . dkgray black
  movecost: 100
done

name: yellow pavement
  glyph: . yellow black
  movecost: 100
done

name: white pavement
  glyph: . white black
  movecost: 100
done

name: door frame
  glyph: . brown black
  movecost: 100
  hp: 150
  destroy: floor
  flags: flammable
done

name: broken door
  glyph: { brown black
  movecost: 0
  hp: 15
  destroy: door frame

  signal: open
    result: open broken door
    success_message: You open the broken door.
  done

  signal: pry
    result: open broken door
    success_rate: 70
    bonus: strength * 2
    success_message: You pry the broken door open.
    failure_message: The broken door resists.
  done

  smash:
    failure_sound: "whack."
    success_sound: wood splintering.
    armor: bash 1d5
    armor: pierce 1d10 + 4
  done
  flags: flammable
done

name: open broken door
  display_name: broken door
  glyph: ' brown black
  movecost: 100
  hp: 15
  destroy: door frame

  signal: close
    result: broken door
    success_message: You close the broken door.
  done

  flags: flammable
done

name: closed door
  display_name: door
  glyph: + brown black
  movecost: 0
  hp: 20
  destroy: broken door

  signal: open
    result: open door
    success_message: You open the door.
  done

  signal: pry
    result: open door
    success_rate: 60
    bonus: strength * 2
    success_message: You pry the door open.
    failure_message: The door resists.
  done

  smash:
    failure_sound: "whack."
    success_sound: wood splintering.
    armor: bash 1d5
    armor: pierce 1d10 + 6
  done
  flags: flammable opaque
done

name: open door
  display_name: door
  glyph: ' brown black
  movecost: 100
  hp: 20
  destroy: open broken door

  signal: close
    result: closed door
    success_message: You close the door.
  done

  flags: flammable
done

name: closed glass door
  display_name: glass door
  glyph: + ltcyan black
  movecost: 0
  hp: 2

  signal: open
    result: open glass door
    success_message: You open the glass door.
  done

  signal: pry
    result: open glass door
    success_rate: 65
    bonus: strength * 2
    success_message: You pry the glass door open.
    failure_message: The glass door resists.
  done

  destroy: door frame
  smash:
    failure_sound: "whunk."
    success_sound: glass shattering.
    armor: cut 1d4
    armor: pierce 2
  done
done

name: open glass door
  display_name: glass door
  glyph: ' ltcyan black
  movecost: 100
  hp: 2
  destroy: door frame

  signal: close
    result: closed glass door
    success_message: You close the glass dor.
  done

done

name: window frame
  glyph: 0 ltcyan black
  movecost: 250
  hp: 150
  destroy: rubble
  flags: flammable
done

name: window
  glyph: " ltcyan black
  movecost: 0
  hp: 2
  destroy: window frame

  smash:
    failure_sound: "whunk."
    success_sound: glass shattering.
    armor: cut 1d4
    armor: pierce 2
  done

  flags: flammable
done

name: display rack
  glyph: { ltgray black
  movecost: 0
  hp: 15
  destroy: rubble

  smash:
    failure_sound: "whack."
    success_sound: "crash!"
    armor: cut 40
    armor: bash 2d6
    ignore_chance: 50
  done

  flags: flammable
done

name: display fridge
  glyph: { ltcyan black
  movecost: 0
  hp: 5
  destroy: broken display fridge

  smash:
    failure_sound: "whunk."
    success_sound: "glass shattering."
    armor: cut 1d4
    armor: pierce 2
  done

done

name: broken display fridge
  glyph: { white black
  movecost: 0
  hp: 100
  destroy: rubble
done

name: counter
  glyph: % blue black
  movecost: 180
  height: 25
  hp: 250
  destroy: rubble
  flags: flammable opaque
done

name: stairs up
  display_name: stairs
  glyph: < yellow black
  movecost: 100
  hp: 200
  destroy: rubble
  flags: stairs_up flammable
done

name: stairs down
  display_name: stairs
  glyph: > yellow black
  movecost: 100
  hp: 200
  destroy: rubble
  flags: stairs_down flammable
done

name: stove
  glyph: { dkgray black
  movecost: 0
  height: 30
  flags: opaque
done
  
name: bed
  glyph: % red black
  movecost: 180
  hp: 100
  height: 20
  destroy: floor
  flags: flammable opaque
done

name: shelves
  glyph: { yellow black
  movecost: 0
  hp: 15
  height: 90
  destroy: floor

  smash:
    failure_sound: "whack."
    success_sound: "wood splintering."
  done

  flags: flammable opaque
done

name: dresser
  glyph: { brown black
  movecost: 0
  hp: 25
  destroy: floor

  smash:
    failure_sound: "whack."
    success_sound: "wood splintering."
  done

  flags: flammable
done

name: sink
  glyph: { ltcyan black
  movecost: 0
  hp: 30
  destroy: rubble
done

name: toilet
  glyph: % white black
  movecost: 150
  hp: 50
  destroy: rubble
done

name: fridge
  glyph: { white black
  movecost: 0
  height: 80
  hp: 100
  destroy: rubble
  flags: opaque
done
